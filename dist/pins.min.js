var pins=function(n){"use strict";function g(n){return Object.keys(s).includes(n)?s[n]:function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];return null}}function m(n){return null==n}function v(n,t){var e=g("getOption")(n);return m(e)?t:e}function e(n){return n.filter(function(n,t,e){return e.indexOf(n)===t})}function r(n,t){return null!==t&&(n=n.concat(t)),n}function y(n){return Array.isArray(n)?n:[n]}function i(){return Object.keys(d)}function p(){return v("pins.path",f.get("userCacheDir")("pins"))}function b(){return f.get("tempfile")()}function a(n){return f.get("basename")(n)}function o(n){return f.get("readLines")(n)}function u(n,t){return f.get("writeLines")(n,t)}function x(n,t){return f.get("filePath")(n,t)}function k(n,t){return void 0===t&&(t={winslash:"\\",mustWork:!1}),t.winslash,t.mustWork,n}function w(n){return f.get("fileExists")(n)}function C(n,t,e){void 0===e&&(e={recursive:!0});var r=e.recursive;return f.get("fileCopy")(n,t,r)}function A(n,t){var e=[];return m(n)||(e=n),e.columns=t,e}function O(){return v("pins.versions.path","_versions")}function j(n){var t;return N.list(n,{fullNames:!0}).filter(function(n){return/(\/|\\)_versions$/g.test(n)}),1<(t="").length&&(t=paste(t,collapse=","),t=""),k(x(k(n),O()),{mustWork:!1})}function E(){return v("pins.board","local")}function S(n){var t=n.cache,e=x(t,n.name);return N.exists(e)||N.create(e,{recursive:!0}),k(e,{mustWork:!1})}function I(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];var e=null,r=null;try{r=n[n.length-1]()}catch(n){e=n}for(var i=0;i<n.length-2;i++)n[i]();if(null!==e)throw e;return r}function F(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];v("pins.verbose",!0)&&f.get("pinLog")(n.join(""))}var s={},f={get:g,set:function(n,t){s[n]=t}},d={},N=Object.freeze({create:function(n,t){void 0===t&&(t={recursive:!1});t.recursive;return f.get("dirCreate")(n)},exists:function(n){return f.get("dirExists")(n)},list:function(n){for(var t=[],e=arguments.length-1;0<e--;)t[e]=arguments[e+1];return f.get("dirList")(function(n){if(Array.isArray(n)){if(1!=n.length)throw new Error("Array has more than one element but expecting only one");n=n[0]}return n}(n))},remove:function(t){for(var n=[],e=arguments.length-1;0<e--;)n[e]=arguments[e+1];return(t=y(t)).map(function(n){return f.get("dirRemove")(t)})},zip:function(n,t){for(var e=[],r=arguments.length-2;0<r--;)e[r]=arguments[r+2];return f.get("dirZip")(n,n)}}),l=Object.freeze({filePathSansExt:function(n){return n.replace(/\.[^/.]+$/,"")},fileExt:function(n){return n.match(/\.[^/.]+$/,"")[0]}});function t(n){return null==n}var L={isNothing:t,isObject:function(n){return"object"==typeof n&&null!==n},toArray:function(n){return Array.isArray(n)?n:t(n)?[]:[n]},repeat:function(n,t){for(var e="",r=0;r<t;r+=1)e+=n;return e},isNegativeZero:function(n){return 0===n&&Number.NEGATIVE_INFINITY===1/n},extend:function(n,t){var e,r,i,o;if(t)for(e=0,r=(o=Object.keys(t)).length;e<r;e+=1)n[i=o[e]]=t[i];return n}};function h(n,t){Error.call(this),this.name="YAMLException",this.reason=n,this.mark=t,this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():""),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}((h.prototype=Object.create(Error.prototype)).constructor=h).prototype.toString=function(n){var t=this.name+": ";return t+=this.reason||"(unknown reason)",!n&&this.mark&&(t+=" "+this.mark.toString()),t};var _=h;function M(n,t,e,r,i){this.name=n,this.buffer=t,this.position=e,this.line=r,this.column=i}M.prototype.getSnippet=function(n,t){var e,r,i,o,a;if(!this.buffer)return null;for(n=n||4,t=t||75,e="",r=this.position;0<r&&-1==="\0\r\n\u2028\u2029".indexOf(this.buffer.charAt(r-1));)if(--r,this.position-r>t/2-1){e=" ... ",r+=5;break}for(i="",o=this.position;o<this.buffer.length&&-1==="\0\r\n\u2028\u2029".indexOf(this.buffer.charAt(o));)if((o+=1)-this.position>t/2-1){i=" ... ",o-=5;break}return a=this.buffer.slice(r,o),L.repeat(" ",n)+e+a+i+"\n"+L.repeat(" ",n+this.position-r+e.length)+"^"},M.prototype.toString=function(n){var t,e="";return this.name&&(e+='in "'+this.name+'" '),e+="at line "+(this.line+1)+", column "+(this.column+1),n||(t=this.getSnippet())&&(e+=":\n"+t),e};var T=M,P=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],D=["scalar","sequence","mapping"];var R=function(t,n){var e,r;if(n=n||{},Object.keys(n).forEach(function(n){if(-1===P.indexOf(n))throw new _('Unknown option "'+n+'" is met in definition of "'+t+'" YAML type.')}),this.tag=t,this.kind=n.kind||null,this.resolve=n.resolve||function(){return!0},this.construct=n.construct||function(n){return n},this.instanceOf=n.instanceOf||null,this.predicate=n.predicate||null,this.represent=n.represent||null,this.defaultStyle=n.defaultStyle||null,this.styleAliases=(e=n.styleAliases||null,r={},null!==e&&Object.keys(e).forEach(function(t){e[t].forEach(function(n){r[String(n)]=t})}),r),-1===D.indexOf(this.kind))throw new _('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')};function U(n,t,r){var i=[];return n.include.forEach(function(n){r=U(n,t,r)}),n[t].forEach(function(e){r.forEach(function(n,t){n.tag===e.tag&&n.kind===e.kind&&i.push(t)}),r.push(e)}),r.filter(function(n,t){return-1===i.indexOf(t)})}function $(n){this.include=n.include||[],this.implicit=n.implicit||[],this.explicit=n.explicit||[],this.implicit.forEach(function(n){if(n.loadKind&&"scalar"!==n.loadKind)throw new _("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}),this.compiledImplicit=U(this,"implicit",[]),this.compiledExplicit=U(this,"explicit",[]),this.compiledTypeMap=function(){var n,t,e=arguments,r={scalar:{},sequence:{},mapping:{},fallback:{}};function i(n){r[n.kind][n.tag]=r.fallback[n.tag]=n}for(n=0,t=arguments.length;n<t;n+=1)e[n].forEach(i);return r}(this.compiledImplicit,this.compiledExplicit)}$.DEFAULT=null,$.create=function(n,t){var e,r;switch(arguments.length){case 1:e=$.DEFAULT,r=n;break;case 2:e=n,r=t;break;default:throw new _("Wrong number of arguments for Schema.create function")}if(e=L.toArray(e),r=L.toArray(r),!e.every(function(n){return n instanceof $}))throw new _("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!r.every(function(n){return n instanceof R}))throw new _("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new $({include:e,explicit:r})};var Y=$,W=new Y({explicit:[new R("tag:yaml.org,2002:str",{kind:"scalar",construct:function(n){return null!==n?n:""}}),new R("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(n){return null!==n?n:[]}}),new R("tag:yaml.org,2002:map",{kind:"mapping",construct:function(n){return null!==n?n:{}}})]});var V=new R("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(n){if(null===n)return!0;var t=n.length;return 1===t&&"~"===n||4===t&&("null"===n||"Null"===n||"NULL"===n)},construct:function(){return null},predicate:function(n){return null===n},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"});var q=new R("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(n){if(null===n)return!1;var t=n.length;return 4===t&&("true"===n||"True"===n||"TRUE"===n)||5===t&&("false"===n||"False"===n||"FALSE"===n)},construct:function(n){return"true"===n||"True"===n||"TRUE"===n},predicate:function(n){return"[object Boolean]"===Object.prototype.toString.call(n)},represent:{lowercase:function(n){return n?"true":"false"},uppercase:function(n){return n?"TRUE":"FALSE"},camelcase:function(n){return n?"True":"False"}},defaultStyle:"lowercase"});var z=new R("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(n){if(null===n)return!1;var t,e,r,i,o=n.length,a=0,c=!1;if(!o)return!1;if("-"!==(t=n[a])&&"+"!==t||(t=n[++a]),"0"===t){if(a+1===o)return!0;if("b"===(t=n[++a])){for(a++;a<o;a++)if("_"!==(t=n[a])){if("0"!==t&&"1"!==t)return!1;c=!0}return c&&"_"!==t}if("x"===t){for(a++;a<o;a++)if("_"!==(t=n[a])){if(!(48<=(r=n.charCodeAt(a))&&r<=57||65<=r&&r<=70||97<=r&&r<=102))return!1;c=!0}return c&&"_"!==t}for(;a<o;a++)if("_"!==(t=n[a])){if(!(48<=(e=n.charCodeAt(a))&&e<=55))return!1;c=!0}return c&&"_"!==t}if("_"===t)return!1;for(;a<o;a++)if("_"!==(t=n[a])){if(":"===t)break;if(!(48<=(i=n.charCodeAt(a))&&i<=57))return!1;c=!0}return!(!c||"_"===t)&&(":"!==t||/^(:[0-5]?[0-9])+$/.test(n.slice(a)))},construct:function(n){var t,e,r=n,i=1,o=[];return-1!==r.indexOf("_")&&(r=r.replace(/_/g,"")),"-"!==(t=r[0])&&"+"!==t||("-"===t&&(i=-1),t=(r=r.slice(1))[0]),"0"===r?0:"0"===t?"b"===r[1]?i*parseInt(r.slice(2),2):"x"===r[1]?i*parseInt(r,16):i*parseInt(r,8):-1!==r.indexOf(":")?(r.split(":").forEach(function(n){o.unshift(parseInt(n,10))}),r=0,e=1,o.forEach(function(n){r+=n*e,e*=60}),i*r):i*parseInt(r,10)},predicate:function(n){return"[object Number]"===Object.prototype.toString.call(n)&&n%1==0&&!L.isNegativeZero(n)},represent:{binary:function(n){return 0<=n?"0b"+n.toString(2):"-0b"+n.toString(2).slice(1)},octal:function(n){return 0<=n?"0"+n.toString(8):"-0"+n.toString(8).slice(1)},decimal:function(n){return n.toString(10)},hexadecimal:function(n){return 0<=n?"0x"+n.toString(16).toUpperCase():"-0x"+n.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),G=new RegExp("^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");var B=/^[-+]?[0-9]+e/;var K=new Y({include:[W],implicit:[V,q,z,new R("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(n){return null!==n&&!(!G.test(n)||"_"===n[n.length-1])},construct:function(n){var t,e=n.replace(/_/g,"").toLowerCase(),r="-"===e[0]?-1:1,i=[];return 0<="+-".indexOf(e[0])&&(e=e.slice(1)),".inf"===e?1==r?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===e?NaN:0<=e.indexOf(":")?(e.split(":").forEach(function(n){i.unshift(parseFloat(n,10))}),e=0,t=1,i.forEach(function(n){e+=n*t,t*=60}),r*e):r*parseFloat(e,10)},predicate:function(n){return"[object Number]"===Object.prototype.toString.call(n)&&(n%1!=0||L.isNegativeZero(n))},represent:function(n,t){var e;if(isNaN(n))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===n)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===n)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(L.isNegativeZero(n))return"-0.0";return e=n.toString(10),B.test(e)?e.replace("e",".e"):e},defaultStyle:"lowercase"})]}),H=new Y({include:[K]}),Z=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),J=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");var Q=new R("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(n){return null!==n&&(null!==Z.exec(n)||null!==J.exec(n))},construct:function(n){var t,e,r,i,o,a,c,u=0,s=null,l=Z.exec(n);if(null===l&&(l=J.exec(n)),null===l)throw new Error("Date resolve error");if(t=+l[1],e=l[2]-1,r=+l[3],!l[4])return new Date(Date.UTC(t,e,r));if(i=+l[4],o=+l[5],a=+l[6],l[7]){for(u=l[7].slice(0,3);u.length<3;)u+="0";u=+u}return l[9]&&(s=6e4*(60*+l[10]+ +(l[11]||0)),"-"===l[9]&&(s=-s)),c=new Date(Date.UTC(t,e,r,i,o,a,u)),s&&c.setTime(c.getTime()-s),c},instanceOf:Date,represent:function(n){return n.toISOString()}});var X=new R("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(n){return"<<"===n||null===n}});function nn(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}try{var tn=nn().Buffer}catch(n){}var en="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";var rn=new R("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(n){if(null===n)return!1;for(var t,e=0,r=n.length,i=en,o=0;o<r;o++)if(!(64<(t=i.indexOf(n.charAt(o))))){if(t<0)return!1;e+=6}return e%8==0},construct:function(n){for(var t,e=n.replace(/[\r\n=]/g,""),r=e.length,i=en,o=0,a=[],c=0;c<r;c++)c%4==0&&c&&(a.push(o>>16&255),a.push(o>>8&255),a.push(255&o)),o=o<<6|i.indexOf(e.charAt(c));return 0==(t=r%4*6)?(a.push(o>>16&255),a.push(o>>8&255),a.push(255&o)):18==t?(a.push(o>>10&255),a.push(o>>2&255)):12==t&&a.push(o>>4&255),tn?tn.from?tn.from(a):new tn(a):a},predicate:function(n){return tn&&tn.isBuffer(n)},represent:function(n){for(var t,e="",r=0,i=n.length,o=en,a=0;a<i;a++)a%3==0&&a&&(e+=o[r>>18&63],e+=o[r>>12&63],e+=o[r>>6&63],e+=o[63&r]),r=(r<<8)+n[a];return 0==(t=i%3)?(e+=o[r>>18&63],e+=o[r>>12&63],e+=o[r>>6&63],e+=o[63&r]):2==t?(e+=o[r>>10&63],e+=o[r>>4&63],e+=o[r<<2&63],e+=o[64]):1==t&&(e+=o[r>>2&63],e+=o[r<<4&63],e+=o[64],e+=o[64]),e}}),on=Object.prototype.hasOwnProperty,an=Object.prototype.toString;var cn=new R("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(n){if(null===n)return!0;for(var t,e,r,i=[],o=n,a=0,c=o.length;a<c;a+=1){if(t=o[a],r=!1,"[object Object]"!==an.call(t))return!1;for(e in t)if(on.call(t,e)){if(r)return!1;r=!0}if(!r)return!1;if(-1!==i.indexOf(e))return!1;i.push(e)}return!0},construct:function(n){return null!==n?n:[]}}),un=Object.prototype.toString;var sn=new R("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(n){if(null===n)return!0;for(var t,e,r=n,i=new Array(r.length),o=0,a=r.length;o<a;o+=1){if(t=r[o],"[object Object]"!==un.call(t))return!1;if(1!==(e=Object.keys(t)).length)return!1;i[o]=[e[0],t[e[0]]]}return!0},construct:function(n){if(null===n)return[];for(var t,e,r=n,i=new Array(r.length),o=0,a=r.length;o<a;o+=1)t=r[o],e=Object.keys(t),i[o]=[e[0],t[e[0]]];return i}}),ln=Object.prototype.hasOwnProperty;var pn=new Y({include:[H],implicit:[Q,X],explicit:[rn,cn,sn,new R("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(n){if(null===n)return!0;var t,e=n;for(t in e)if(ln.call(e,t)&&null!==e[t])return!1;return!0},construct:function(n){return null!==n?n:{}}})]});var fn=new R("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:function(){return!0},construct:function(){},predicate:function(n){return void 0===n},represent:function(){return""}});var dn=new R("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:function(n){if(null===n)return!1;if(0===n.length)return!1;var t=n,e=/\/([gim]*)$/.exec(n),r="";if("/"===t[0]){if(e&&(r=e[1]),3<r.length)return!1;if("/"!==t[t.length-r.length-1])return!1}return!0},construct:function(n){var t=n,e=/\/([gim]*)$/.exec(n),r="";return"/"===t[0]&&(e&&(r=e[1]),t=t.slice(1,t.length-r.length-1)),new RegExp(t,r)},predicate:function(n){return"[object RegExp]"===Object.prototype.toString.call(n)},represent:function(n){var t="/"+n.source+"/";return n.global&&(t+="g"),n.multiline&&(t+="m"),n.ignoreCase&&(t+="i"),t}});try{var hn=nn()}catch(n){"undefined"!=typeof window&&(hn=window.esprima)}var gn=new R("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:function(n){if(null===n)return!1;try{var t="("+n+")",e=hn.parse(t,{range:!0});return"Program"!==e.type||1!==e.body.length||"ExpressionStatement"!==e.body[0].type||"ArrowFunctionExpression"!==e.body[0].expression.type&&"FunctionExpression"!==e.body[0].expression.type?!1:!0}catch(n){return!1}},construct:function(n){var t,e="("+n+")",r=hn.parse(e,{range:!0}),i=[];if("Program"!==r.type||1!==r.body.length||"ExpressionStatement"!==r.body[0].type||"ArrowFunctionExpression"!==r.body[0].expression.type&&"FunctionExpression"!==r.body[0].expression.type)throw new Error("Failed to resolve function");return r.body[0].expression.params.forEach(function(n){i.push(n.name)}),t=r.body[0].expression.body.range,"BlockStatement"===r.body[0].expression.body.type?new Function(i,e.slice(t[0]+1,t[1]-1)):new Function(i,"return "+e.slice(t[0],t[1]))},predicate:function(n){return"[object Function]"===Object.prototype.toString.call(n)},represent:function(n){return n.toString()}}),mn=Y.DEFAULT=new Y({include:[pn],explicit:[fn,dn,gn]}),vn=Object.prototype.hasOwnProperty,yn=1,bn=2,wn=3,An=4,xn=1,kn=2,Cn=3,On=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,jn=/[\x85\u2028\u2029]/,En=/[,\[\]\{\}]/,Sn=/^(?:!|!!|![a-z\-]+!)$/i,In=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Fn(n){return Object.prototype.toString.call(n)}function Nn(n){return 10===n||13===n}function Ln(n){return 9===n||32===n}function _n(n){return 9===n||32===n||10===n||13===n}function Mn(n){return 44===n||91===n||93===n||123===n||125===n}function Tn(n){return 48===n?"\0":97===n?"":98===n?"\b":116===n||9===n?"\t":110===n?"\n":118===n?"\v":102===n?"\f":114===n?"\r":101===n?"":32===n?" ":34===n?'"':47===n?"/":92===n?"\\":78===n?"":95===n?" ":76===n?"\u2028":80===n?"\u2029":""}for(var Pn=new Array(256),Dn=new Array(256),Rn=0;Rn<256;Rn++)Pn[Rn]=Tn(Rn)?1:0,Dn[Rn]=Tn(Rn);function Un(n,t){this.input=n,this.filename=t.filename||null,this.schema=t.schema||mn,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=n.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function $n(n,t){return new _(t,new T(n.filename,n.input,n.position,n.line,n.position-n.lineStart))}function Yn(n,t){throw $n(n,t)}function Wn(n,t){n.onWarning&&n.onWarning.call(null,$n(n,t))}var Vn={YAML:function(n,t,e){var r,i,o;null!==n.version&&Yn(n,"duplication of %YAML directive"),1!==e.length&&Yn(n,"YAML directive accepts exactly one argument"),null===(r=/^([0-9]+)\.([0-9]+)$/.exec(e[0]))&&Yn(n,"ill-formed argument of the YAML directive"),i=parseInt(r[1],10),o=parseInt(r[2],10),1!==i&&Yn(n,"unacceptable YAML version of the document"),n.version=e[0],n.checkLineBreaks=o<2,1!==o&&2!==o&&Wn(n,"unsupported YAML version of the document")},TAG:function(n,t,e){var r,i;2!==e.length&&Yn(n,"TAG directive accepts exactly two arguments"),r=e[0],i=e[1],Sn.test(r)||Yn(n,"ill-formed tag handle (first argument) of the TAG directive"),vn.call(n.tagMap,r)&&Yn(n,'there is a previously declared suffix for "'+r+'" tag handle'),In.test(i)||Yn(n,"ill-formed tag prefix (second argument) of the TAG directive"),n.tagMap[r]=i}};function qn(n,t,e,r){var i,o,a,c;if(t<e){if(c=n.input.slice(t,e),r)for(i=0,o=c.length;i<o;i+=1)9===(a=c.charCodeAt(i))||32<=a&&a<=1114111||Yn(n,"expected valid JSON character");else On.test(c)&&Yn(n,"the stream contains non-printable characters");n.result+=c}}function zn(n,t,e,r){var i,o,a,c;for(L.isObject(e)||Yn(n,"cannot merge mappings; the provided source object is unacceptable"),a=0,c=(i=Object.keys(e)).length;a<c;a+=1)o=i[a],vn.call(t,o)||(t[o]=e[o],r[o]=!0)}function Gn(n,t,e,r,i,o,a,c){var u,s;if(Array.isArray(i))for(u=0,s=(i=Array.prototype.slice.call(i)).length;u<s;u+=1)Array.isArray(i[u])&&Yn(n,"nested arrays are not supported inside keys"),"object"==typeof i&&"[object Object]"===Fn(i[u])&&(i[u]="[object Object]");if("object"==typeof i&&"[object Object]"===Fn(i)&&(i="[object Object]"),i=String(i),null===t&&(t={}),"tag:yaml.org,2002:merge"===r)if(Array.isArray(o))for(u=0,s=o.length;u<s;u+=1)zn(n,t,o[u],e);else zn(n,t,o,e);else n.json||vn.call(e,i)||!vn.call(t,i)||(n.line=a||n.line,n.position=c||n.position,Yn(n,"duplicated mapping key")),t[i]=o,delete e[i];return t}function Bn(n){var t=n.input.charCodeAt(n.position);10===t?n.position++:13===t?(n.position++,10===n.input.charCodeAt(n.position)&&n.position++):Yn(n,"a line break is expected"),n.line+=1,n.lineStart=n.position}function Kn(n,t,e){for(var r=0,i=n.input.charCodeAt(n.position);0!==i;){for(;Ln(i);)i=n.input.charCodeAt(++n.position);if(t&&35===i)for(;10!==(i=n.input.charCodeAt(++n.position))&&13!==i&&0!==i;);if(!Nn(i))break;for(Bn(n),i=n.input.charCodeAt(n.position),r++,n.lineIndent=0;32===i;)n.lineIndent++,i=n.input.charCodeAt(++n.position)}return-1!==e&&0!==r&&n.lineIndent<e&&Wn(n,"deficient indentation"),r}function Hn(n){var t=n.position,e=n.input.charCodeAt(t);return 45!==e&&46!==e||e!==n.input.charCodeAt(t+1)||e!==n.input.charCodeAt(t+2)||(t+=3,0!==(e=n.input.charCodeAt(t))&&!_n(e))?void 0:1}function Zn(n,t){1===t?n.result+=" ":1<t&&(n.result+=L.repeat("\n",t-1))}function Jn(n,t){var e,r,i,o,a,c,u,s,l,p=n.input.charCodeAt(n.position);if(34===p){for(n.kind="scalar",n.result="",n.position++,e=r=n.position;0!==(p=n.input.charCodeAt(n.position));){if(34===p)return qn(n,e,n.position,!0),n.position++,1;if(92===p){if(qn(n,e,n.position,!0),Nn(p=n.input.charCodeAt(++n.position)))Kn(n,!1,t);else if(p<256&&Pn[p])n.result+=Dn[p],n.position++;else if(0<(a=120===(l=p)?2:117===l?4:85===l?8:0)){for(i=a,o=0;0<i;i--)p=n.input.charCodeAt(++n.position),s=void 0,0<=(a=48<=(u=p)&&u<=57?u-48:97<=(s=32|u)&&s<=102?s-97+10:-1)?o=(o<<4)+a:Yn(n,"expected hexadecimal character");n.result+=(c=o)<=65535?String.fromCharCode(c):String.fromCharCode(55296+(c-65536>>10),56320+(c-65536&1023)),n.position++}else Yn(n,"unknown escape sequence");e=r=n.position}else Nn(p)?(qn(n,e,r,!0),Zn(n,Kn(n,!1,t)),e=r=n.position):n.position===n.lineStart&&Hn(n)?Yn(n,"unexpected end of the document within a double quoted scalar"):(n.position++,r=n.position)}Yn(n,"unexpected end of the stream within a double quoted scalar")}}function Qn(n,t){var e,r,i=n.tag,o=n.anchor,a=[],c=!1;for(null!==n.anchor&&(n.anchorMap[n.anchor]=a),r=n.input.charCodeAt(n.position);0!==r&&45===r&&_n(n.input.charCodeAt(n.position+1));)if(c=!0,n.position++,Kn(n,!0,-1)&&n.lineIndent<=t)a.push(null),r=n.input.charCodeAt(n.position);else if(e=n.line,Xn(n,t,wn,!1,!0),a.push(n.result),Kn(n,!0,-1),r=n.input.charCodeAt(n.position),(n.line===e||n.lineIndent>t)&&0!==r)Yn(n,"bad indentation of a sequence entry");else if(n.lineIndent<t)break;return!!c&&(n.tag=i,n.anchor=o,n.kind="sequence",n.result=a,!0)}function Xn(n,t,e,r,i){var o,a,c,u,s,l,p,f,d=1,h=!1,g=!1;if(null!==n.listener&&n.listener("open",n),n.tag=null,n.anchor=null,n.kind=null,n.result=null,o=a=c=An===e||wn===e,r&&Kn(n,!0,-1)&&(h=!0,n.lineIndent>t?d=1:n.lineIndent===t?d=0:n.lineIndent<t&&(d=-1)),1===d)for(;function(n){var t,e,r,i=!1,o=!1,a=n.input.charCodeAt(n.position);if(33===a){if(null!==n.tag&&Yn(n,"duplication of a tag property"),60===(a=n.input.charCodeAt(++n.position))?(i=!0,a=n.input.charCodeAt(++n.position)):33===a?(o=!0,e="!!",a=n.input.charCodeAt(++n.position)):e="!",t=n.position,i){for(;0!==(a=n.input.charCodeAt(++n.position))&&62!==a;);n.position<n.length?(r=n.input.slice(t,n.position),a=n.input.charCodeAt(++n.position)):Yn(n,"unexpected end of the stream within a verbatim tag")}else{for(;0!==a&&!_n(a);)33===a&&(o?Yn(n,"tag suffix cannot contain exclamation marks"):(e=n.input.slice(t-1,n.position+1),Sn.test(e)||Yn(n,"named tag handle cannot contain such characters"),o=!0,t=n.position+1)),a=n.input.charCodeAt(++n.position);r=n.input.slice(t,n.position),En.test(r)&&Yn(n,"tag suffix cannot contain flow indicator characters")}return r&&!In.test(r)&&Yn(n,"tag name cannot contain such characters: "+r),i?n.tag=r:vn.call(n.tagMap,e)?n.tag=n.tagMap[e]+r:"!"===e?n.tag="!"+r:"!!"===e?n.tag="tag:yaml.org,2002:"+r:Yn(n,'undeclared tag handle "'+e+'"'),1}}(n)||function(n){var t,e=n.input.charCodeAt(n.position);if(38===e){for(null!==n.anchor&&Yn(n,"duplication of an anchor property"),e=n.input.charCodeAt(++n.position),t=n.position;0!==e&&!_n(e)&&!Mn(e);)e=n.input.charCodeAt(++n.position);return n.position===t&&Yn(n,"name of an anchor node must contain at least one character"),n.anchor=n.input.slice(t,n.position),1}}(n);)Kn(n,!0,-1)?(h=!0,c=o,n.lineIndent>t?d=1:n.lineIndent===t?d=0:n.lineIndent<t&&(d=-1)):c=!1;if(c=c&&(h||i),1!==d&&An!==e||(p=yn===e||bn===e?t:t+1,f=n.position-n.lineStart,1===d?c&&(Qn(n,f)||function(n,t,e){var r,i,o,a,c,u=n.tag,s=n.anchor,l={},p={},f=null,d=null,h=null,g=!1,m=!1;for(null!==n.anchor&&(n.anchorMap[n.anchor]=l),c=n.input.charCodeAt(n.position);0!==c;){if(r=n.input.charCodeAt(n.position+1),o=n.line,a=n.position,63!==c&&58!==c||!_n(r)){if(!Xn(n,e,bn,!1,!0))break;if(n.line===o){for(c=n.input.charCodeAt(n.position);Ln(c);)c=n.input.charCodeAt(++n.position);if(58===c)_n(c=n.input.charCodeAt(++n.position))||Yn(n,"a whitespace character is expected after the key-value separator within a block mapping"),g&&(Gn(n,l,p,f,d,null),f=d=h=null),i=g=!(m=!0),f=n.tag,d=n.result;else{if(!m)return n.tag=u,n.anchor=s,1;Yn(n,"can not read an implicit mapping pair; a colon is missed")}}else{if(!m)return n.tag=u,n.anchor=s,1;Yn(n,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===c?(g&&(Gn(n,l,p,f,d,null),f=d=h=null),i=g=m=!0):g?i=!(g=!1):Yn(n,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),n.position+=1,c=r;if((n.line===o||n.lineIndent>t)&&(Xn(n,t,An,!0,i)&&(g?d=n.result:h=n.result),g||(Gn(n,l,p,f,d,h,o,a),f=d=h=null),Kn(n,!0,-1),c=n.input.charCodeAt(n.position)),n.lineIndent>t&&0!==c)Yn(n,"bad indentation of a mapping entry");else if(n.lineIndent<t)break}return g&&Gn(n,l,p,f,d,null),m&&(n.tag=u,n.anchor=s,n.kind="mapping",n.result=l),m}(n,f,p))||function(n,t){var e,r,i,o,a,c,u,s,l,p=!0,f=n.tag,d=n.anchor,h={},g=n.input.charCodeAt(n.position);if(91===g)c=!(i=93),r=[];else{if(123!==g)return;i=125,c=!0,r={}}for(null!==n.anchor&&(n.anchorMap[n.anchor]=r),g=n.input.charCodeAt(++n.position);0!==g;){if(Kn(n,!0,t),(g=n.input.charCodeAt(n.position))===i)return n.position++,n.tag=f,n.anchor=d,n.kind=c?"mapping":"sequence",n.result=r,1;p||Yn(n,"missed comma between flow collection entries"),l=null,o=a=!1,63===g&&_n(n.input.charCodeAt(n.position+1))&&(o=a=!0,n.position++,Kn(n,!0,t)),e=n.line,Xn(n,t,yn,!1,!0),s=n.tag,u=n.result,Kn(n,!0,t),g=n.input.charCodeAt(n.position),!a&&n.line!==e||58!==g||(o=!0,g=n.input.charCodeAt(++n.position),Kn(n,!0,t),Xn(n,t,yn,!1,!0),l=n.result),c?Gn(n,r,h,s,u,l):o?r.push(Gn(n,null,h,s,u,l)):r.push(u),Kn(n,!0,t),44===(g=n.input.charCodeAt(n.position))?(p=!0,g=n.input.charCodeAt(++n.position)):p=!1}Yn(n,"unexpected end of the stream within a flow collection")}(n,p)?g=!0:(a&&function(n,t){var e,r,i,o,a=xn,c=!1,u=!1,s=t,l=0,p=!1,f=n.input.charCodeAt(n.position);if(124===f)r=!1;else{if(62!==f)return;r=!0}for(n.kind="scalar",n.result="";0!==f;)if(43===(f=n.input.charCodeAt(++n.position))||45===f)xn===a?a=43===f?Cn:kn:Yn(n,"repeat of a chomping mode identifier");else{if(!(0<=(i=48<=(o=f)&&o<=57?o-48:-1)))break;0==i?Yn(n,"bad explicit indentation width of a block scalar; it cannot be less than one"):u?Yn(n,"repeat of an indentation width identifier"):(s=t+i-1,u=!0)}if(Ln(f)){for(;Ln(f=n.input.charCodeAt(++n.position)););if(35===f)for(;!Nn(f=n.input.charCodeAt(++n.position))&&0!==f;);}for(;0!==f;){for(Bn(n),n.lineIndent=0,f=n.input.charCodeAt(n.position);(!u||n.lineIndent<s)&&32===f;)n.lineIndent++,f=n.input.charCodeAt(++n.position);if(!u&&n.lineIndent>s&&(s=n.lineIndent),Nn(f))l++;else{if(n.lineIndent<s){a===Cn?n.result+=L.repeat("\n",c?1+l:l):a===xn&&c&&(n.result+="\n");break}for(r?Ln(f)?(p=!0,n.result+=L.repeat("\n",c?1+l:l)):p?(p=!1,n.result+=L.repeat("\n",l+1)):0===l?c&&(n.result+=" "):n.result+=L.repeat("\n",l):n.result+=L.repeat("\n",c?1+l:l),u=c=!0,l=0,e=n.position;!Nn(f)&&0!==f;)f=n.input.charCodeAt(++n.position);qn(n,e,n.position,!1)}}return 1}(n,p)||function(n,t){var e,r,i=n.input.charCodeAt(n.position);if(39===i){for(n.kind="scalar",n.result="",n.position++,e=r=n.position;0!==(i=n.input.charCodeAt(n.position));)if(39===i){if(qn(n,e,n.position,!0),39!==(i=n.input.charCodeAt(++n.position)))return 1;e=n.position,n.position++,r=n.position}else Nn(i)?(qn(n,e,r,!0),Zn(n,Kn(n,!1,t)),e=r=n.position):n.position===n.lineStart&&Hn(n)?Yn(n,"unexpected end of the document within a single quoted scalar"):(n.position++,r=n.position);Yn(n,"unexpected end of the stream within a single quoted scalar")}}(n,p)||Jn(n,p)?g=!0:!function(n){var t,e,r=n.input.charCodeAt(n.position);if(42===r){for(r=n.input.charCodeAt(++n.position),t=n.position;0!==r&&!_n(r)&&!Mn(r);)r=n.input.charCodeAt(++n.position);return n.position===t&&Yn(n,"name of an alias node must contain at least one character"),e=n.input.slice(t,n.position),n.anchorMap.hasOwnProperty(e)||Yn(n,'unidentified alias "'+e+'"'),n.result=n.anchorMap[e],Kn(n,!0,-1),1}}(n)?function(n,t,e){var r,i,o,a,c,u,s,l=n.kind,p=n.result,f=n.input.charCodeAt(n.position);if(!_n(f)&&!Mn(f)&&35!==f&&38!==f&&42!==f&&33!==f&&124!==f&&62!==f&&39!==f&&34!==f&&37!==f&&64!==f&&96!==f&&(63!==f&&45!==f||!(_n(r=n.input.charCodeAt(n.position+1))||e&&Mn(r)))){for(n.kind="scalar",n.result="",i=o=n.position,a=!1;0!==f;){if(58===f){if(_n(r=n.input.charCodeAt(n.position+1))||e&&Mn(r))break}else if(35===f){if(_n(n.input.charCodeAt(n.position-1)))break}else{if(n.position===n.lineStart&&Hn(n)||e&&Mn(f))break;if(Nn(f)){if(c=n.line,u=n.lineStart,s=n.lineIndent,Kn(n,!1,-1),n.lineIndent>=t){a=!0,f=n.input.charCodeAt(n.position);continue}n.position=o,n.line=c,n.lineStart=u,n.lineIndent=s;break}}a&&(qn(n,i,o,!1),Zn(n,n.line-c),i=o=n.position,a=!1),Ln(f)||(o=n.position+1),f=n.input.charCodeAt(++n.position)}if(qn(n,i,o,!1),n.result)return 1;n.kind=l,n.result=p}}(n,p,yn===e)&&(g=!0,null===n.tag&&(n.tag="?")):(g=!0,null===n.tag&&null===n.anchor||Yn(n,"alias node should not have any properties")),null!==n.anchor&&(n.anchorMap[n.anchor]=n.result)):0===d&&(g=c&&Qn(n,f))),null!==n.tag&&"!"!==n.tag)if("?"===n.tag){for(u=0,s=n.implicitTypes.length;u<s;u+=1)if((l=n.implicitTypes[u]).resolve(n.result)){n.result=l.construct(n.result),n.tag=l.tag,null!==n.anchor&&(n.anchorMap[n.anchor]=n.result);break}}else vn.call(n.typeMap[n.kind||"fallback"],n.tag)?(l=n.typeMap[n.kind||"fallback"][n.tag],null!==n.result&&l.kind!==n.kind&&Yn(n,"unacceptable node kind for !<"+n.tag+'> tag; it should be "'+l.kind+'", not "'+n.kind+'"'),l.resolve(n.result)?(n.result=l.construct(n.result),null!==n.anchor&&(n.anchorMap[n.anchor]=n.result)):Yn(n,"cannot resolve a node with !<"+n.tag+"> explicit tag")):Yn(n,"unknown tag !<"+n.tag+">");return null!==n.listener&&n.listener("close",n),null!==n.tag||null!==n.anchor||g}function nt(n,t){t=t||{},0!==(n=String(n)).length&&(10!==n.charCodeAt(n.length-1)&&13!==n.charCodeAt(n.length-1)&&(n+="\n"),65279===n.charCodeAt(0)&&(n=n.slice(1)));var e=new Un(n,t);for(e.input+="\0";32===e.input.charCodeAt(e.position);)e.lineIndent+=1,e.position+=1;for(;e.position<e.length-1;)!function(n){var t,e,r,i,o=n.position,a=!1;for(n.version=null,n.checkLineBreaks=n.legacy,n.tagMap={},n.anchorMap={};0!==(i=n.input.charCodeAt(n.position))&&(Kn(n,!0,-1),i=n.input.charCodeAt(n.position),!(0<n.lineIndent||37!==i));){for(a=!0,i=n.input.charCodeAt(++n.position),t=n.position;0!==i&&!_n(i);)i=n.input.charCodeAt(++n.position);for(r=[],(e=n.input.slice(t,n.position)).length<1&&Yn(n,"directive name must not be less than one character in length");0!==i;){for(;Ln(i);)i=n.input.charCodeAt(++n.position);if(35===i){for(;0!==(i=n.input.charCodeAt(++n.position))&&!Nn(i););break}if(Nn(i))break;for(t=n.position;0!==i&&!_n(i);)i=n.input.charCodeAt(++n.position);r.push(n.input.slice(t,n.position))}0!==i&&Bn(n),vn.call(Vn,e)?Vn[e](n,e,r):Wn(n,'unknown document directive "'+e+'"')}Kn(n,!0,-1),0===n.lineIndent&&45===n.input.charCodeAt(n.position)&&45===n.input.charCodeAt(n.position+1)&&45===n.input.charCodeAt(n.position+2)?(n.position+=3,Kn(n,!0,-1)):a&&Yn(n,"directives end mark is expected"),Xn(n,n.lineIndent-1,An,!1,!0),Kn(n,!0,-1),n.checkLineBreaks&&jn.test(n.input.slice(o,n.position))&&Wn(n,"non-ASCII line breaks are interpreted as content"),n.documents.push(n.result),n.position===n.lineStart&&Hn(n)?46===n.input.charCodeAt(n.position)&&(n.position+=3,Kn(n,!0,-1)):n.position<n.length-1&&Yn(n,"end of the stream or a document separator is expected")}(e);return e.documents}function tt(n,t,e){var r,i,o=nt(n,e);if("function"!=typeof t)return o;for(r=0,i=o.length;r<i;r+=1)t(o[r])}function et(n,t){var e=nt(n,t);if(0!==e.length){if(1===e.length)return e[0];throw new _("expected a single document in the stream, but found more")}}var rt={loadAll:tt,load:et,safeLoadAll:function(n,t,e){if("function"!=typeof t)return tt(n,L.extend({schema:pn},e));tt(n,t,L.extend({schema:pn},e))},safeLoad:function(n,t){return et(n,L.extend({schema:pn},t))}},it=Object.prototype.toString,ot=Object.prototype.hasOwnProperty,at=9,ct=10,ut=32,st=33,lt=34,pt=35,ft=37,dt=38,ht=39,gt=42,mt=44,vt=45,yt=58,bt=62,wt=63,At=64,xt=91,kt=93,Ct=96,Ot=123,jt=124,Et=125,St={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},It=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];function Ft(n){var t,e,r=n.toString(16).toUpperCase();if(n<=255)t="x",e=2;else if(n<=65535)t="u",e=4;else{if(!(n<=4294967295))throw new _("code point within a string may not be greater than 0xFFFFFFFF");t="U",e=8}return"\\"+t+L.repeat("0",e-r.length)+r}function Nt(n){this.schema=n.schema||mn,this.indent=Math.max(1,n.indent||2),this.noArrayIndent=n.noArrayIndent||!1,this.skipInvalid=n.skipInvalid||!1,this.flowLevel=L.isNothing(n.flowLevel)?-1:n.flowLevel,this.styleMap=function(n,t){var e,r,i,o,a,c,u;if(null===t)return{};for(e={},i=0,o=(r=Object.keys(t)).length;i<o;i+=1)a=r[i],c=String(t[a]),"!!"===a.slice(0,2)&&(a="tag:yaml.org,2002:"+a.slice(2)),(u=n.compiledTypeMap.fallback[a])&&ot.call(u.styleAliases,c)&&(c=u.styleAliases[c]),e[a]=c;return e}(this.schema,n.styles||null),this.sortKeys=n.sortKeys||!1,this.lineWidth=n.lineWidth||80,this.noRefs=n.noRefs||!1,this.noCompatMode=n.noCompatMode||!1,this.condenseFlow=n.condenseFlow||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function Lt(n,t){for(var e,r=L.repeat(" ",t),i=0,o=-1,a="",c=n.length;i<c;)i=-1===(o=n.indexOf("\n",i))?(e=n.slice(i),c):(e=n.slice(i,o+1),o+1),e.length&&"\n"!==e&&(a+=r),a+=e;return a}function _t(n,t){return"\n"+L.repeat(" ",n.indent*t)}function Mt(n){return n===ut||n===at}function Tt(n){return 32<=n&&n<=126||161<=n&&n<=55295&&8232!==n&&8233!==n||57344<=n&&n<=65533&&65279!==n||65536<=n&&n<=1114111}function Pt(n){return Tt(n)&&65279!==n&&n!==mt&&n!==xt&&n!==kt&&n!==Ot&&n!==Et&&n!==yt&&n!==pt}function Dt(n){return/^\n* /.test(n)}var Rt=1,Ut=2,$t=3,Yt=4,Wt=5;function Vt(n,t,e,r,i){var o,a,c,u=!1,s=!1,l=-1!==r,p=-1,f=Tt(c=n.charCodeAt(0))&&65279!==c&&!Mt(c)&&c!==vt&&c!==wt&&c!==yt&&c!==mt&&c!==xt&&c!==kt&&c!==Ot&&c!==Et&&c!==pt&&c!==dt&&c!==gt&&c!==st&&c!==jt&&c!==bt&&c!==ht&&c!==lt&&c!==ft&&c!==At&&c!==Ct&&!Mt(n.charCodeAt(n.length-1));if(t)for(o=0;o<n.length;o++){if(!Tt(a=n.charCodeAt(o)))return Wt;f=f&&Pt(a)}else{for(o=0;o<n.length;o++){if((a=n.charCodeAt(o))===ct)u=!0,l&&(s=s||r<o-p-1&&" "!==n[p+1],p=o);else if(!Tt(a))return Wt;f=f&&Pt(a)}s=s||l&&r<o-p-1&&" "!==n[p+1]}return u||s?9<e&&Dt(n)?Wt:s?Yt:$t:f&&!i(n)?Rt:Ut}function qt(r,i,o,a){r.dump=function(){if(0===i.length)return"''";if(!r.noCompatMode&&-1!==It.indexOf(i))return"'"+i+"'";var n=r.indent*Math.max(1,o),t=-1===r.lineWidth?-1:Math.max(Math.min(r.lineWidth,40),r.lineWidth-n),e=a||-1<r.flowLevel&&o>=r.flowLevel;switch(Vt(i,e,r.indent,t,function(n){return function(n,t){for(var e=0,r=n.implicitTypes.length;e<r;e+=1)if(n.implicitTypes[e].resolve(t))return!0;return!1}(r,n)})){case Rt:return i;case Ut:return"'"+i.replace(/'/g,"''")+"'";case $t:return"|"+zt(i,r.indent)+Gt(Lt(i,n));case Yt:return">"+zt(i,r.indent)+Gt(Lt(function(t,e){var n,r,i=/(\n+)([^\n]*)/g,o=function(){var n=-1!==(n=t.indexOf("\n"))?n:t.length;return i.lastIndex=n,Bt(t.slice(0,n),e)}(),a="\n"===t[0]||" "===t[0];for(;r=i.exec(t);){var c=r[1],u=r[2];n=" "===u[0],o+=c+(a||n||""===u?"":"\n")+Bt(u,e),a=n}return o}(i,t),n));case Wt:return'"'+function(n){for(var t,e,r,i="",o=0;o<n.length;o++)55296<=(t=n.charCodeAt(o))&&t<=56319&&56320<=(e=n.charCodeAt(o+1))&&e<=57343?(i+=Ft(1024*(t-55296)+e-56320+65536),o++):(r=St[t],i+=!r&&Tt(t)?n[o]:r||Ft(t));return i}(i)+'"';default:throw new _("impossible error: invalid scalar style")}}()}function zt(n,t){var e=Dt(n)?String(t):"",r="\n"===n[n.length-1];return e+(r&&("\n"===n[n.length-2]||"\n"===n)?"+":r?"":"-")+"\n"}function Gt(n){return"\n"===n[n.length-1]?n.slice(0,-1):n}function Bt(n,t){if(""===n||" "===n[0])return n;for(var e,r,i=/ [^ ]/g,o=0,a=0,c=0,u="";e=i.exec(n);)t<(c=e.index)-o&&(r=o<a?a:c,u+="\n"+n.slice(o,r),o=r+1),a=c;return u+="\n",n.length-o>t&&o<a?u+=n.slice(o,a)+"\n"+n.slice(a+1):u+=n.slice(o),u.slice(1)}function Kt(n,t,e){for(var r,i,o,a=e?n.explicitTypes:n.implicitTypes,c=0,u=a.length;c<u;c+=1)if(((i=a[c]).instanceOf||i.predicate)&&(!i.instanceOf||"object"==typeof t&&t instanceof i.instanceOf)&&(!i.predicate||i.predicate(t))){if(n.tag=e?i.tag:"?",i.represent){if(o=n.styleMap[i.tag]||i.defaultStyle,"[object Function]"===it.call(i.represent))r=i.represent(t,o);else{if(!ot.call(i.represent,o))throw new _("!<"+i.tag+'> tag resolver accepts not "'+o+'" style');r=i.represent[o](t,o)}n.dump=r}return 1}}function Ht(n,t,e,r,i,o){n.tag=null,n.dump=e,Kt(n,e,!1)||Kt(n,e,!0);var a=it.call(n.dump);r=r&&(n.flowLevel<0||n.flowLevel>t);var c,u,s="[object Object]"===a||"[object Array]"===a;if(s&&(u=-1!==(c=n.duplicates.indexOf(e))),(null!==n.tag&&"?"!==n.tag||u||2!==n.indent&&0<t)&&(i=!1),u&&n.usedDuplicates[c])n.dump="*ref_"+c;else{if(s&&u&&!n.usedDuplicates[c]&&(n.usedDuplicates[c]=!0),"[object Object]"===a)r&&0!==Object.keys(n.dump).length?(function(n,t,e,r){var i,o,a,c,u,s,l="",p=n.tag,f=Object.keys(e);if(!0===n.sortKeys)f.sort();else if("function"==typeof n.sortKeys)f.sort(n.sortKeys);else if(n.sortKeys)throw new _("sortKeys must be a boolean or a function");for(i=0,o=f.length;i<o;i+=1)s="",r&&0===i||(s+=_t(n,t)),c=e[a=f[i]],Ht(n,t+1,a,!0,!0,!0)&&((u=null!==n.tag&&"?"!==n.tag||n.dump&&1024<n.dump.length)&&(n.dump&&ct===n.dump.charCodeAt(0)?s+="?":s+="? "),s+=n.dump,u&&(s+=_t(n,t)),Ht(n,t+1,c,!0,u)&&(n.dump&&ct===n.dump.charCodeAt(0)?s+=":":s+=": ",l+=s+=n.dump));n.tag=p,n.dump=l||"{}"}(n,t,n.dump,i),u&&(n.dump="&ref_"+c+n.dump)):(function(n,t,e){for(var r,i,o,a="",c=n.tag,u=Object.keys(e),s=0,l=u.length;s<l;s+=1)o=n.condenseFlow?'"':"",0!==s&&(o+=", "),i=e[r=u[s]],Ht(n,t,r,!1,!1)&&(1024<n.dump.length&&(o+="? "),o+=n.dump+(n.condenseFlow?'"':"")+":"+(n.condenseFlow?"":" "),Ht(n,t,i,!1,!1)&&(a+=o+=n.dump));n.tag=c,n.dump="{"+a+"}"}(n,t,n.dump),u&&(n.dump="&ref_"+c+" "+n.dump));else if("[object Array]"===a){var l=n.noArrayIndent&&0<t?t-1:t;r&&0!==n.dump.length?(function(n,t,e,r){for(var i="",o=n.tag,a=0,c=e.length;a<c;a+=1)Ht(n,t+1,e[a],!0,!0)&&(r&&0===a||(i+=_t(n,t)),n.dump&&ct===n.dump.charCodeAt(0)?i+="-":i+="- ",i+=n.dump);n.tag=o,n.dump=i||"[]"}(n,l,n.dump,i),u&&(n.dump="&ref_"+c+n.dump)):(function(n,t,e){for(var r="",i=n.tag,o=0,a=e.length;o<a;o+=1)Ht(n,t,e[o],!1,!1)&&(0!==o&&(r+=","+(n.condenseFlow?"":" ")),r+=n.dump);n.tag=i,n.dump="["+r+"]"}(n,l,n.dump),u&&(n.dump="&ref_"+c+" "+n.dump))}else{if("[object String]"!==a){if(n.skipInvalid)return;throw new _("unacceptable kind of an object to dump "+a)}"?"!==n.tag&&qt(n,n.dump,t,o)}null!==n.tag&&"?"!==n.tag&&(n.dump="!<"+n.tag+"> "+n.dump)}return 1}function Zt(n,t){var e,r,i=[],o=[];for(!function n(t,e,r){var i,o,a;if(null!==t&&"object"==typeof t)if(-1!==(o=e.indexOf(t)))-1===r.indexOf(o)&&r.push(o);else if(e.push(t),Array.isArray(t))for(o=0,a=t.length;o<a;o+=1)n(t[o],e,r);else for(i=Object.keys(t),o=0,a=i.length;o<a;o+=1)n(t[i[o]],e,r)}(n,i,o),e=0,r=o.length;e<r;e+=1)t.duplicates.push(i[o[e]]);t.usedDuplicates=new Array(r)}function Jt(n,t){var e=new Nt(t=t||{});return e.noRefs||Zt(n,e),Ht(e,0,n,!0,!0)?e.dump+"\n":""}var Qt={dump:Jt,safeDump:function(n,t){return Jt(n,L.extend({schema:pn},t))}};function Xt(n){return function(){throw new Error("Function "+n+" is deprecated and cannot be used.")}}function ne(n){function o(n,t,e){return m(n[t])?e:n[t]}var t=n.map(function(n){var t,e,r,i={name:o(n,"name",a(n.path)),description:o(n,"description",""),type:o(n,"type","files")};return i.metadata=(t=n,e=["name","description","type"],r={},Object.assign(r,t),e.forEach(function(n){r.hasOwnProperty(n)&&delete r[n]}),r),i});return A(t,{name:"character",description:"character",type:"character"})}function te(n){return x(S(n),"data.txt")}function ee(e){var n=ge(e);return I(function(){return me(n)},function(){var n=te(e);if(w(n)){var t=o(n).join("\n");return de.safeLoad(t)}return[]})}function re(t,e){var n=ge(e);return I(function(){return me(n)},function(){var n=de.safeDump(t);u(te(e),n.split("\n"))})}function ie(n,t){var e=x(S(n),t);return N.exists(e)||N.create(e,{recursive:!0}),e}function oe(o,a,c){void 0===c&&(c=list());var n=ge(a);return I(function(){return me(n)},function(){var n=ee(a);o=he(o,n);var t=ie(a,o);null===n&&(n={});var e=n.map(function(n){return n.name}),r=0;for(var i in e.includes(o)?r=e.findIndex(function(n){return o==n}):n[r=n.length]={},n[r].name=o,c)Array.isArray(c[i])&&0==c[i].length||void 0===c[i]?delete n[r][i]:n[r][i]=c[i];return re(n,a),t})}function ae(e,r){var n=ge(r);return I(function(){return me(n)},function(){var n=ee(r);e=he(e,n);var t=n.map(function(n){return n.name});if(!t.includes(e))throw F("Pin not found, pins available in registry: ",t.join(", ")),new Error("Pin '"+e+"' not found in '"+r.name+"' board.");return n[t.findIndex(function(n){return n==e})]})}function ce(n,t){var e=t.replace(/^https?:\/\//g,""),r=function(n,t){try{return n()}catch(n){return t(n)}}(function(){return ae(e,n)||null},function(){return null});m(r)||(r.cache={},oe(e,n,{params:r}))}function ue(n){var t,e={},r=x(n,"data.txt");return w(r)&&(t=o(r).join("\n"),e=de.safeLoad(t)),m(e.type)&&(e.type="files"),e}function se(n,t,e){var r=Object.assign({path:e},t);!function(n){for(var t in n)m(n[t])&&delete n[t]}(r);var i=de.safeDump(r);return u(x(n,"data.txt"),i.split("\n")),r}function le(n,t,e){return ye[n]=ye[n]||{},ye[n][t]=e}function pe(n,t){for(var e,r,i=[],o=arguments.length-2;0<o--;)i[o]=arguments[o+2];var a=(t&&t.class?t.class:t.constructor&&t.constructor.name?t.constructor.name:"default").toLowerCase();if(void 0!==t._content&&(t=t._content),ye[n]&&ye[n][a])return(e=ye[n])[a].apply(e,[t].concat(i));if(ye[n]&&ye[n].default)return(r=ye[n]).default.apply(r,[t].concat(i));throw new Error("no applicable method for '"+n+"' applied to an object of class '"+a+"'")}function fe(n,t){for(var e=[],r=arguments.length-2;0<r--;)e[r]=arguments[r+2];return pe.apply(void 0,["boardPinGet",n,t].concat(e))}var de={Type:R,Schema:Y,FAILSAFE_SCHEMA:W,JSON_SCHEMA:K,CORE_SCHEMA:H,DEFAULT_SAFE_SCHEMA:pn,DEFAULT_FULL_SCHEMA:mn,load:rt.load,loadAll:rt.loadAll,safeLoad:rt.safeLoad,safeLoadAll:rt.safeLoadAll,dump:Qt.dump,safeDump:Qt.safeDump,YAMLException:_,MINIMAL_SCHEMA:W,SAFE_SCHEMA:pn,DEFAULT_SCHEMA:mn,scan:Xt("scan"),parse:Xt("parse"),compose:Xt("compose"),addConstructor:Xt("addConstructor")},he=function(n,t){var e=t.map(function(n){return n.name}),r="",r=/\//g.test(n)?paste0("^",n,"$"):".*/"+n+"$",i=e.filter(function(n){return new RegExp(r,"gi").test(n)});return 1==i.length&&(n=i),n},ge=function(n){var t,e=te(n)+".lock";return t=e,v("pins.lock.timeout",1/0),f.get("fileExists")(t)},me=function(n){return t=n,f.get("fileExists")(t);var t},ve=function(n,t){var e=S(t);return n.startsWith(e)?n:k(x(e,n),mustWork=!1)},ye={};function be(n,t,e,r){for(var i=[],o=arguments.length-4;0<o--;)i[o]=arguments[o+4];if(null==e)throw new Error("Please specify the 'cache' parameter.");return n=function(n){for(var t=[],e=arguments.length-1;0<e--;)t[e]=arguments[e+1];return pe.apply(void 0,["boardInitialize",n].concat(t))}(n={board:n,name:t,cache:e,versions:r,class:n},e=e,r=r,i)}function we(n,t){var e=t.name,r=t.board,i=t.registerCall,o=t.connect,a={name:e,board:null==r?e:r,connect:null==o?"packages"!==e:o,url:t.url,registerCall:i};return/^http:\/\/|^https:\/\//g.test(n)&&(a.url=n,a.board="datatxt",null!=e&&n!==e||(a.name=a.url.replace(/https?:\/\//g,"").replace(/\\\\..*/g,"")),a.registerCall='pins::board_register(board = "datatxt", name = "'+a.name+'", url = "'+a.url+'")'),null==a.name&&(a.name=n),null==a.board&&(a.board=n),a}function Ae(n,t){for(var e=[],r=arguments.length-2;0<r--;)e[r]=arguments[r+2];return n=ke(n),f.get("uiViewerRegister")(n,t),n}function xe(){var n=r(["local","packages"],E()),t=r(i(),n);return e(t)}var ke=function(t){m(t)&&(t=E());var n='pins::board_register(board = "'+t+'")';if(!i().includes(t)){var e=we(t,{});null!==e.registerCall&&(n=e.registerCall),t=e.name;try{Ce(e.board,{name:e.name,connect:e.connect,registerCall:n,url:e.url})}catch(n){F("Failed to register board "+t+": "+n.toString())}if(!i().includes(t))throw"Board '"+t+"' not a board, available boards: "+xe().join(", ")}return d[t]},Ce=function(n,t){var e=t.name,r=t.cache,i=t.versions,o=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&-1===t.indexOf(r)&&(e[r]=n[r]);return e}(t,["name","cache","versions"]);null==e&&(e=n),null==r&&(r=p());var a,c,u,s,l=we(n,{board:n,name:e,registerCall:o.registerCall,connect:o.connect,url:o.url});return o.url=l.url,n=be(l.board,l.name,r,i,o),a=l.name,c=n,d[a]=c,null==l.registerCall&&(l.registerCall=(u=n.name,s=l.name,f.get("boardRegisterCode")(u,s))),!1!==l.connect&&Ae(n.name,l.registerCall),l.name};function Oe(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&-1===t.indexOf(r)&&(e[r]=n[r]);return e}function je(n,t){var e=t.board,r=t.cache,i=t.extract,o=t.version,a=t.files,c=t.signature,u=Oe(t,["board","cache","extract","version","files","signature"]);if(m(e)){var s=function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];try{return fe.apply(void 0,n)}catch(n){return null}},l=s(ke(null),n,{version:o});if(m(l)&&m(e))for(var p in xe())if(r||ce(p,n),l=s(ke(p),n,{extract:i,version:o}),!m(l)){F("Found pin "+n+" in board "+p);break}if(m(l))throw new Error("Failed to retrieve '"+n+"' pin.")}else r||ce(e,n),l=fe(ke(e),n,Object.assign.apply(Object,[{extract:i,version:o}].concat(u)));var f=ue(l);m(f.type)&&(f.type="files");var d=y(l).filter(function(n){return!new RegExp("^"+O()).test(n)}),d=N.list(d,{fullNames:!0});if("files"==f.type&&1<d.length&&(d=d.filter(function(n){return!/\/data\.txt$/g.test(n)})),!m(c)){pinVersionSignature(d);if(c!==pin_signature)throw new Error("Pin signature '"+pin_signature+"' does not match given signature.")}return a?d:Fe({_content:l,class:f.type})}function Ee(t,n){var e,r=n.board,i=n.name,o=n.extended,a=n.metadata,c=Oe(n,["board","name","extended","metadata"]);!m(r)&&0!=r.length||(r=xe()),t="string"==typeof(e=t)?function(n){void 0===n&&(n="");var t=n.split("/"),e=t[0];return t.pop(),{name:e,owner:t.join("/")}}(e).name:e,m(t)&&!m(i)&&(t=i);var u,s,l,p=A(null,{name:"character",description:"character",type:"character",metadata:"character",board:"character"}),r=y(r);for(var f in r){var d=r[f],h=ke(d),g=null;try{g=function(n,t){for(var e=[],r=arguments.length-2;0<r--;)e[r]=arguments[r+2];return pe.apply(void 0,["boardPinFind",n,t].concat(e))}(h,t,Object.assign.apply(Object,[{name:i,extended:o}].concat(c)))}catch(n){F("Error searching '"+d+"' board: "+n),g=A(null,{name:"character",description:"character",rows:"numeric",cols:"numeric",class:"numeric"})}!0===o&&(g=g.map(function(n){return n.hasOwnProperty("metadata")&&(Object.assign(n,n.metadata),delete n.metadata),n})),0<g.length&&(g=function(n,r){var t=n.map(function(n,t){var e={};return Object.assign(e,n),Object.assign(e,r[t]),e}),e=Object.assign({},n.columns);return Object.assign(e,r.columns),A(t,e)}(g,A(Array(g.length).fill().map(function(n){}),{board:"character"})),s=g,l=void 0,(l=[].concat(u=p).concat(s)).columns={},Object.assign(l.columns,u.columns),Object.assign(l.columns,s.columns),p=l)}return m(t)||(p=p.filter(function(n){return n.name==t||!m(n.description)&&new RegExp(t,"i").test(n.description)})),a||(p=function(n,e){var t={};Object.assign(t,n.columns),Object.keys(t).includes(e)&&delete t.columns[e];var r=n.map(function(n){var t={};return Object.assign(t,n),Object.keys(t).includes(e)&&delete t[e],t});return A(r,t)}(p,"metadata")),m(i)||0<(p=p.filter(function(n){return new RegExp("(.*/)?"+i+"$").test(n.name)})).length&&(p=p.filter(function(n,t){return 0===t})),p=p.sort(function(n,t){return n.name<n.name})}function Se(n,t){var e=a(n),r=new Error("Can't auto-generate pin name from object, please specify the 'name' parameter.");if(!e)throw r;var i=e.replace(/[^a-zA-Z0-9-]/g,"-").replace(/^-*|-*$/g,"").replace(/-+/g,"-");if(!i)throw r;return t===Ne.kaggle&&i.length<5?i+"-pin":i}function Ie(i,t){var n,e=["rows","cols","name","description"];return(m(n=t)?[]:Object.keys(n)).forEach(function(n){var r;"columns"===n?(r=["name","type"],Array.isArray(i.columns)&&(i.columns=i.columns.map(function(n,t){return{name:Object.keys(i.columns)[t],type:i.columns[t]}})),t.columns.forEach(function(e){var t=metadata$columns.filter(function(n,t){return i.columns[t].name===e.name});1==t.length&&Object.keys(e).forEach(function(n){r.includes(n)||(i.columns[t][n]=e[n])})})):e.includes(n)||(i[n]=t[n])}),i}var Fe=function(n){for(var t=[],e=arguments.length-1;0<e--;)t[e]=arguments[e+1];return pe.apply(void 0,["pinLoad",n].concat(t))},Ne=Object.freeze({kaggle:"kaggle"});function Le(n,t){void 0===t&&(t={});var i=t.path,o=t.description,a=t.type,c=t.metadata,u=t.extract,s=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&-1===t.indexOf(r)&&(e[r]=n[r]);return e}(t,["path","description","type","metadata","extract"]),l=s.customMetadata,p=s.zip;m(u)&&(u=!0);var f=ke(n),d=t.name||function(n){for(var t=[],e=arguments.length-1;0<e--;)t[e]=arguments[e+1];for(var r=[],i=0;i>n.length;i++)r.push(fun.apply(void 0,[n[i]].concat(t)));return r}(pinPath);F("Storing "+d+" into board "+f.name+" with type "+a),s.cache||ce(f,d),i=i.filter(function(n){return!/data\.txt/g.test(n)});var h=b();return N.create(h),I(function(){return unlink(h,{recursive:!0})},function(){1==i.length&&/^http/g.test(i)&&!/\\.[a-z]{2,4}$/g.test(i)&&v("pins.search.datatxt",!0)&&(datatxtPath=x(i,"data.txt"),localPath=pinDownload(datatxtPath,d,E(),{canFail:!0}),is.null(local_path)||(manifest=ue(localPath),i=i+"/"+manifest[i],u=!1));var n=!1;if(!0===p)N.zip(i[0],x(h,"data.zip")),n=!0;else for(var t=0;t<i.length;t++){var e={somethingChanged:!0},r=i[t];if(/^http/g.test(r)&&(r=pin_download(r,d,E(),Object.assign({extract:u,details:e,canFail:!0},opt)),!m(e.error))){try{je(d,{board:E()})}catch(n){}throw new Error(e.error)}e.somethingChanged&&(N.exists(r)?C(N.list(r,{fullNames:!0}),h,{recursive:!0}):C(r,h,{recursive:!0}),n=!0)}return n&&(w(x(h,"data.txt"))||(c.description=o,c.type=a,c=Ie(c,l),se(h,c,N.list(h,{recursive:!0}))),function(n,t,e,r){for(var i=[],o=arguments.length-4;0<o--;)i[o]=arguments[o+4];return pe.apply(void 0,["boardPinCreate",n,t,e,r].concat(i))}.apply(void 0,[f,h,d,c].concat(s)),g("uiViewerUpdated")()),je(d,Object.assign.apply(Object,[{board:f.name}].concat(s)))})}return le("pin","default",function(n,t){void 0===t&&(t={});var e,r,i=t.description,o=t.board,a=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&-1===t.indexOf(r)&&(e[r]=n[r]);return e}(t,["description","board"]),c=t.name||Se(n,o),u=b();return N.create(u),e=JSON.stringify(n),r=x(u,"data.json"),f.get("fileWrite")(e,r),Le(o,Object.assign.apply(Object,[{},{name:c,description:i,path:u,type:"default",metadata:[]}].concat(a)))}),le("pin","string",function(n,t){void 0===t&&(t={name:null,description:null,board:null});var e=t.name,r=t.description,i=t.board,o=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&-1===t.indexOf(r)&&(e[r]=n[r]);return e}(t,["name","description","board"]),a=y(n),c=0<a.length?"zip":l.fileExt(a);return Le(i,Object.assign.apply(Object,[{},{name:e,description:r,path:a,type:"files",metadata:{extension:c}}].concat(o)))}),le("pin","dataframe",function(n,t){void 0===t&&(t={name:null,description:null,board:null});var e=t.name,r=t.description,i=t.board,o=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&-1===t.indexOf(r)&&(e[r]=n[r]);return e}(t,["name","description","board"]);return m(e)&&(e=Se(n,i)),path=b(),N.create(path),pinsSafeCsv(n,file.path(path,"data.csv")),I(function(){return unlink(path)},function(){return names(columns),names(n),metadata,list(rows=nrow(n),cols=ncol(n),columns=columns),boardPinStore(i,Object.assign.apply(Object,[{},{name:e,description:r,path:path,type:"table",metadata:[]}].concat(o)))})}),le("pinPreview","default",function(n){for(var t=[],e=arguments.length-1;0<e--;)t[e]=arguments[e+1];return n}),le("pinLoad","default",function(n){for(var t,e=[],r=arguments.length-1;0<r--;)e[r]=arguments[r+1];return JSON.parse((t=x(n,"data.json"),f.get("fileRead")(t)))}),le("pinFetch","default",function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];return n.path}),le("pinLoad","files",function(n,t){!function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&-1===t.indexOf(r)&&(e[r]=n[r])}(t,[]);return N.list(n,{recursive:!0,fullNames:!0}).filter(function(n){return!/data\.txt$/g.test(n)})}),le("boardBrowse","default",function(n){for(var t=[],e=arguments.length-1;0<e--;)t[e]=arguments[e+1];return null}),le("boardPinVersions","default",function(n,t){for(var e=[],r=arguments.length-2;0<r--;)e[r]=arguments[r+2];return A(null,{version:"character"})}),le("boardInitialize","default",function(n){for(var t=[],e=arguments.length-1;0<e--;)t[e]=arguments[e+1];throw new Error("Board '"+n.name+"' is not a valid board.")}),le("boardInitialize","local",function(n){for(var t=[],e=arguments.length-1;0<e--;)t[e]=arguments[e+1];return N.exists(n.cache)||N.create(n.cache,{recursive:!0}),n}),le("boardPinCreate","local",function(n,t,e,r){for(var i,o,a,u,s,l,p,f,d,h,g=[],m=arguments.length-4;0<m--;)g[m]=arguments[m+4];o=e=e,a=t=t,h=null,f=i=n,void 0===d&&(d={defaultValue:!1}),(d.defaultValue?!1!==f.versions:!0===f.versions)&&(u=pinStoragePath(i,o),h=pinManifestGet(u).versions,s=j(a),l=pinRegistryRelative(s,a),any(component_manifest$versions==version_relative)&&(h=h.filter(function(n){return n!=l})),N.exists(s)&&N.removeunlink(s,{recursive:!0}),N.create(s,{recursive:!0}),p=(p=N.list(a,{fullNames:!0})).filter(function(n){return n!=x(a,O())}),C(p,s,{recursive:!0}),h=c(list(l),h),manifest=pinManifestGet(a),manifest.versions=h,pin_manifest_update(a,manifest));var v=ie(n,e),y=(y=N.list(v,{fullNames:!0})).filter(function(n){return/(\/|\\)_versions$/gi.test(n)});N.remove(y,{recursive:!0}),N.exists(v)||N.create(v),C(N.list(t,{fullNames:!0}),v,{recursive:!0}),r.columns=null;var b,w,A=S(n);return oe(e,n,Object.assign({path:(b=k(b=v,{winslash:"/",mustWork:!(w={basePath:A})}),w=k(w,{winslash:"/",mustWork:!1}),b.startsWith(w)&&(b=b.substr(w.length+1,b.length)),b.replace("^/",""))},r))}),le("boardPinFind","local",function(n,t){for(var e=[],r=arguments.length-2;0<r--;)e[r]=arguments[r+2];var i,o,a,c,u,s,l,p,f,d=(i=t,a=ge(o=n),I(function(){return me(a)},function(){var n=ee(o),t=ne(n);return"string"==typeof i&&0<i.length&&(t=t.filter(function(n){return!new RegExp(i,"gi").test(n.name)})),t}));return 1==d.length&&(c=d.metadata,u=ve(c.path,n),s=ue(u),p=c,m((f=s).path)||m(p.path)||/https?:\/\//g.test(p.path)||(p.path=x(p.path,f.path)),l=p=Object.assign(p,f),d.metadata=l),d}),le("boardPinGet","local",function(n,t){for(var e=[],r=arguments.length-2;0<r--;)e[r]=arguments[r+2];var i,o=e.version,a=ae(t,n).path;return m(o)||((i=ue(ve(a,n))).versions.includes(o)||(o=boardVersionsExpand(i.versions,o)),a=x(t,o)),ve(a,n)}),le("boardPinRemove","local",function(n,t){for(var e=[],r=arguments.length-2;0<r--;)e[r]=arguments[r+2];return function(t,n,e){void 0===e&&(e=TRUE);var r=ee(n);t=he(t,r);var i=r.filter(function(n){return n.name==t});if(0<i.length){i=i[0],r=r.filter(function(n){return n.name!=t});var o=ve(remove$path,n);return e&&e(o,recursive=TRUE),re(r,component)}}(t,n)}),le("boardPinVersions","local",function(n,t){for(var e=[],r=arguments.length-2;0<r--;)e[r]=arguments[r+2];return boardVersionsGet(n,t)}),n.boardConnect=Ae,n.boardDeregister=function(n){for(var t=[],e=arguments.length-1;0<e--;)t[e]=arguments[e+1];throw"NYI"},n.boardDisconnect=function(n){for(var t=[],e=arguments.length-1;0<e--;)t[e]=arguments[e+1];throw"NYI"},n.boardGet=ke,n.boardList=xe,n.boardRegister=Ce,n.callbacks=f,n.pin=function(n){for(var t,e=[],r=arguments.length-1;0<r--;)e[r]=arguments[r+1];return t=pe.apply(void 0,["pin",n].concat(e)),Array.isArray(t)&&1==t.length?t[0]:t},n.pinFetch=function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];return pe.apply(void 0,["pinFetch"].concat(n))},n.pinFind=Ee,n.pinGet=je,n.pinInfo=function(n,t){var e,r=t.board,i=t.extended,o=t.metadata,a=t.signature,c=(Oe(t,["board","extended","metadata","signature"]),function(n,t,e,r){var i=Ee({name:n,board:t,metadata:!1,extended:!1});if(0==i.length)throw new Error("Pin '"+n+"' was not found.");if(1<i.length)throw new Error("Pin '"+n+"' was found in multiple boards: "+i.board.join(",")+".");return t=i.board,i=Ee({name:n,board:t,metadata:r,extended:e})}(n,r,i,o)),r=c.board,o=[];for(n in c.colnames().includes("metadata")&&0<c[o].length&&(o=c.metadata),a&&(e=je(n,{board:r,files:!0}),c.signature=pinVersionSignature(e)),entryExt=c.toList(),delete entryExt.metadata,entryExt=[],o)entryExt[n]=o[n];return Object.assign(entry_ext,{class:"pin_info"})},n.pinLoad=Fe,n.pinPreview=function(n){for(var t=[],e=arguments.length-1;0<e--;)t[e]=arguments[e+1];return pe.apply(void 0,["pinPreview",n].concat(t))},n.pinRemove=function(n,t){return t=ke(t),boardPinRemove(t,n),uiViewerUpdated(t),null},n.pinVersions=function(n,t){var e=t.board,r=t.full;void 0===r&&(r=!1);Oe(t,["board","full"]);var i=boardPinVersions(ke(e),n);return r||(i.version=boardVersionsShorten(i.version)),i},n}({});
//# sourceMappingURL=pins.min.js.map
